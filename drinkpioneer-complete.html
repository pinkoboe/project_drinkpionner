<!DOCTYPE html>
<html lang="ko" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drinkpioneer - Premium Liquor App</title>
  
  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React & ReactDOM -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <!-- Babel for JSX -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <style>
    /* Custom CSS Variables */
    :root {
      --font-size: 16px;
      --background: #ffffff;
      --foreground: #0a0a0a;
      --radius: 0.625rem;
    }

    .dark {
      --background: #121212;
      --foreground: #FFFFFF;
      --card: #1A1A1A;
      --card-foreground: #FFFFFF;
      --primary: #D4A574;
      --muted-foreground: #8A8A8A;
      --border: #2A2A2A;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #121212;
      color: #FFFFFF;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-size: 16px;
      line-height: 1.5;
    }

    #root {
      min-height: 100vh;
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #2A2A2A;
    }
    ::-webkit-scrollbar-thumb {
      background: #8A8A8A;
      border-radius: 4px;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #D4A574;
    }

    /* Slider styles */
    input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      background: transparent;
      cursor: pointer;
    }

    input[type="range"]::-webkit-slider-track {
      background: #2A2A2A;
      height: 4px;
      border-radius: 2px;
    }

    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 20px;
      height: 20px;
      background: #D4A574;
      border-radius: 50%;
      margin-top: -8px;
    }

    input[type="range"]::-moz-range-track {
      background: #2A2A2A;
      height: 4px;
      border-radius: 2px;
    }

    input[type="range"]::-moz-range-thumb {
      width: 20px;
      height: 20px;
      background: #D4A574;
      border-radius: 50%;
      border: none;
    }

    /* Button styles */
    .btn {
      padding: 0.75rem 1.5rem;
      border-radius: 10px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s;
      border: none;
      font-size: 1rem;
    }

    .btn-primary {
      background-color: #D4A574;
      color: #121212;
    }

    .btn-primary:hover {
      background-color: #B8935F;
    }

    .btn-outline {
      background-color: transparent;
      border: 1px solid #2A2A2A;
      color: #FFFFFF;
    }

    .btn-outline:hover {
      background-color: #2A2A2A;
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Input styles */
    input, textarea, select {
      background-color: #1A1A1A;
      border: 1px solid #2A2A2A;
      border-radius: 10px;
      padding: 0.75rem 1rem;
      color: #FFFFFF;
      width: 100%;
      font-size: 1rem;
    }

    input::placeholder, textarea::placeholder {
      color: #8A8A8A;
    }

    input:focus, textarea:focus, select:focus {
      outline: 2px solid #D4A574;
      outline-offset: 2px;
    }

    /* Animation keyframes */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .animate-fadeIn {
      animation: fadeIn 0.3s ease-out;
    }

    .animate-slideUp {
      animation: slideUp 0.3s ease-out;
    }

    .animate-spin {
      animation: spin 1s linear infinite;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect } = React;

    // Icon Component
    const Icon = ({ name, className = "w-6 h-6", style = {} }) => {
      const icons = {
        home: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" /></svg>,
        search: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>,
        map: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7" /></svg>,
        users: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z" /></svg>,
        user: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>,
        wine: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M8 2h8M12 2v6m0 0c2 0 3 1 3 3v2a5 5 0 01-10 0v-2c0-2 1-3 3-3" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2}/></svg>,
        coffee: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M18 8h1a4 4 0 010 8h-1M2 8h16v9a4 4 0 01-4 4H6a4 4 0 01-4-4V8z" /></svg>,
        droplets: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path d="M12 2.69l5.66 5.66a8 8 0 11-11.31 0z" strokeLinecap="round" strokeLinejoin="round" strokeWidth={2}/></svg>,
        flame: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z" /></svg>,
        leaf: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /></svg>,
        cherry: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><circle cx="8" cy="18" r="4" strokeWidth={2}/><circle cx="16" cy="18" r="4" strokeWidth={2}/><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 5c-1.333 2.667-4 8-4 13M12 5c1.333 2.667 4 8 4 13M12 5V2" /></svg>,
        plus: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 4v16m8-8H4" /></svg>,
        bell: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>,
        bottle: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 3h6M9 3v3M9 3H8m7 0v3m0-3h1m-7 3h6m-6 0v2a5 5 0 0010 0V6m-10 2H8m10 0h1M10 21h4a2 2 0 002-2v-7H8v7a2 2 0 002 2z" /></svg>,
        filter: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" /></svg>,
        heart: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" /></svg>,
        settings: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /></svg>,
        mapPin: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" /><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>,
        sparkles: <svg className={className} style={style} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" /></svg>,
      };
      return icons[name] || icons.bottle;
    };

    // Slider Component
    const Slider = ({ value, onValueChange, max = 100, min = 0, step = 1 }) => {
      const handleChange = (e) => {
        onValueChange([parseInt(e.target.value)]);
      };

      return (
        <div className="w-full">
          <input
            type="range"
            min={min}
            max={max}
            step={step}
            value={value[0]}
            onChange={handleChange}
            style={{
              width: '100%',
              background: `linear-gradient(to right, #D4A574 0%, #D4A574 ${((value[0] - min) / (max - min)) * 100}%, #2A2A2A ${((value[0] - min) / (max - min)) * 100}%, #2A2A2A 100%)`
            }}
          />
        </div>
      );
    };

    // Button Component
    const Button = ({ children, onClick, disabled, className = "", variant = "default", style = {} }) => {
      const baseClass = "btn";
      const variantClass = variant === "outline" ? "btn-outline" : "btn-primary";
      return (
        <button
          onClick={onClick}
          disabled={disabled}
          className={`${baseClass} ${variantClass} ${className}`}
          style={style}
        >
          {children}
        </button>
      );
    };

    // Image Component
    const ImageWithFallback = ({ src, alt, className = "", style = {} }) => {
      const [imgSrc, setImgSrc] = useState(src);
      const [hasError, setHasError] = useState(false);

      useEffect(() => {
        setImgSrc(src);
        setHasError(false);
      }, [src]);

      const handleError = () => {
        if (!hasError) {
          setHasError(true);
          setImgSrc('https://images.unsplash.com/photo-1569529465841-dfecdab7503b?w=400');
        }
      };

      return <img src={imgSrc} alt={alt} className={className} style={style} onError={handleError} />;
    };

    // Simple Radar Chart
    const SimpleRadarChart = ({ data }) => {
      const size = 300;
      const center = size / 2;
      const radius = 100;
      const points = data.length;
      
      const getPoint = (index, value) => {
        const angle = (Math.PI * 2 * index) / points - Math.PI / 2;
        const r = (value / 100) * radius;
        return {
          x: center + r * Math.cos(angle),
          y: center + r * Math.sin(angle)
        };
      };

      const pathData = data.map((item, i) => {
        const point = getPoint(i, item.value);
        return `${i === 0 ? 'M' : 'L'} ${point.x} ${point.y}`;
      }).join(' ') + ' Z';

      return (
        <svg width={size} height={size} viewBox={`0 0 ${size} ${size}`}>
          {[20, 40, 60, 80, 100].map(r => (
            <circle
              key={r}
              cx={center}
              cy={center}
              r={(r / 100) * radius}
              fill="none"
              stroke="#2A2A2A"
              strokeWidth="1"
            />
          ))}
          
          {data.map((_, i) => {
            const point = getPoint(i, 100);
            return (
              <line
                key={i}
                x1={center}
                y1={center}
                x2={point.x}
                y2={point.y}
                stroke="#2A2A2A"
                strokeWidth="1"
              />
            );
          })}
          
          <path
            d={pathData}
            fill="#D4A574"
            fillOpacity="0.3"
            stroke="#D4A574"
            strokeWidth="2"
          />
          
          {data.map((item, i) => {
            const labelPoint = getPoint(i, 120);
            return (
              <text
                key={i}
                x={labelPoint.x}
                y={labelPoint.y}
                textAnchor="middle"
                fill="#8A8A8A"
                fontSize="12"
              >
                {item.taste}
              </text>
            );
          })}
        </svg>
      );
    };

    // ONBOARDING SCREEN
    const OnboardingScreen = ({ onComplete }) => {
      const [step, setStep] = useState(1);
      const [flavorProfile, setFlavorProfile] = useState({
        dry: 50,
        peaty: 50,
        fruity: 50,
      });
      
      const [spirits, setSpirits] = useState([
        { id: "whiskey", name: "Whiskey", icon: "coffee", selected: false },
        { id: "wine", name: "Wine", icon: "wine", selected: false },
        { id: "soju", name: "Soju", icon: "droplets", selected: false },
        { id: "vodka", name: "Vodka", icon: "flame", selected: false },
        { id: "gin", name: "Gin", icon: "leaf", selected: false },
        { id: "rum", name: "Rum", icon: "cherry", selected: false },
      ]);

      const toggleSpirit = (id) => {
        setSpirits(spirits.map(s => s.id === id ? { ...s, selected: !s.selected } : s));
      };

      const radarData = [
        { taste: "Sweet", value: 100 - flavorProfile.dry },
        { taste: "Malty", value: 100 - flavorProfile.peaty },
        { taste: "Smoky", value: 100 - flavorProfile.fruity },
        { taste: "Dry", value: flavorProfile.dry },
        { taste: "Peaty", value: flavorProfile.peaty },
        { taste: "Fruity", value: flavorProfile.fruity },
      ];

      if (step === 1) {
        return (
          <div className="min-h-screen p-6 flex flex-col" style={{backgroundColor: '#121212'}}>
            <div className="flex-1 animate-slideUp">
              <div style={{marginBottom: '2rem'}}>
                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem'}}>
                  <div style={{display: 'flex', gap: '0.5rem'}}>
                    {[1, 2, 3].map((s) => (
                      <div
                        key={s}
                        style={{
                          height: '4px',
                          width: '64px',
                          borderRadius: '9999px',
                          backgroundColor: s === step ? '#D4A574' : '#2A2A2A'
                        }}
                      />
                    ))}
                  </div>
                  <span style={{color: '#8A8A8A', fontSize: '0.875rem'}}>1/3</span>
                </div>
              </div>

              <h1 style={{marginBottom: '0.5rem', color: '#FFFFFF', fontSize: '2rem', fontWeight: 500}}>Flavor Profile Analysis</h1>
              <p style={{color: '#8A8A8A', marginBottom: '2rem'}}>
                Help us understand your taste preferences
              </p>

              <div style={{display: 'flex', flexDirection: 'column', gap: '2rem'}}>
                <div>
                  <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem'}}>
                    <span style={{color: '#D4A574'}}>Dry</span>
                    <span style={{color: '#8A8A8A'}}>{flavorProfile.dry}</span>
                    <span style={{color: '#D4A574'}}>Sweet</span>
                  </div>
                  <Slider
                    value={[flavorProfile.dry]}
                    onValueChange={(v) => setFlavorProfile({ ...flavorProfile, dry: v[0] })}
                    max={100}
                    step={1}
                  />
                </div>

                <div>
                  <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem'}}>
                    <span style={{color: '#D4A574'}}>Peaty</span>
                    <span style={{color: '#8A8A8A'}}>{flavorProfile.peaty}</span>
                    <span style={{color: '#D4A574'}}>Malty</span>
                  </div>
                  <Slider
                    value={[flavorProfile.peaty]}
                    onValueChange={(v) => setFlavorProfile({ ...flavorProfile, peaty: v[0] })}
                    max={100}
                    step={1}
                  />
                </div>

                <div>
                  <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '1rem'}}>
                    <span style={{color: '#D4A574'}}>Fruity</span>
                    <span style={{color: '#8A8A8A'}}>{flavorProfile.fruity}</span>
                    <span style={{color: '#D4A574'}}>Smoky</span>
                  </div>
                  <Slider
                    value={[flavorProfile.fruity]}
                    onValueChange={(v) => setFlavorProfile({ ...flavorProfile, fruity: v[0] })}
                    max={100}
                    step={1}
                  />
                </div>
              </div>
            </div>

            <Button onClick={() => setStep(2)} className="w-full" style={{marginTop: '2rem'}}>
              Next
            </Button>
          </div>
        );
      }

      if (step === 2) {
        return (
          <div className="min-h-screen p-6 flex flex-col" style={{backgroundColor: '#121212'}}>
            <div className="flex-1 animate-slideUp">
              <div style={{marginBottom: '2rem'}}>
                <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem'}}>
                  <div style={{display: 'flex', gap: '0.5rem'}}>
                    {[1, 2, 3].map((s) => (
                      <div
                        key={s}
                        style={{
                          height: '4px',
                          width: '64px',
                          borderRadius: '9999px',
                          backgroundColor: s === step ? '#D4A574' : '#2A2A2A'
                        }}
                      />
                    ))}
                  </div>
                  <span style={{color: '#8A8A8A', fontSize: '0.875rem'}}>2/3</span>
                </div>
              </div>

              <h1 style={{marginBottom: '0.5rem', color: '#FFFFFF', fontSize: '2rem', fontWeight: 500}}>Spirit Selection</h1>
              <p style={{color: '#8A8A8A', marginBottom: '2rem'}}>
                Select your favorite spirits
              </p>

              <div style={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '1rem'}}>
                {spirits.map((spirit) => (
                  <button
                    key={spirit.id}
                    onClick={() => toggleSpirit(spirit.id)}
                    style={{
                      aspectRatio: '1',
                      borderRadius: '12px',
                      display: 'flex',
                      flexDirection: 'column',
                      alignItems: 'center',
                      justifyContent: 'center',
                      gap: '0.5rem',
                      backgroundColor: spirit.selected ? '#D4A574' : '#1A1A1A',
                      color: spirit.selected ? '#121212' : '#FFFFFF',
                      border: 'none',
                      cursor: 'pointer',
                      transition: 'all 0.2s'
                    }}
                  >
                    <Icon name={spirit.icon} className="w-8 h-8" />
                    <span style={{fontSize: '0.875rem'}}>{spirit.name}</span>
                  </button>
                ))}
              </div>
            </div>

            <div style={{display: 'flex', gap: '0.75rem', marginTop: '2rem'}}>
              <Button variant="outline" onClick={() => setStep(1)} style={{flex: 1}}>
                Back
              </Button>
              <Button
                onClick={() => setStep(3)}
                style={{flex: 1}}
                disabled={!spirits.some(s => s.selected)}
              >
                Next
              </Button>
            </div>
          </div>
        );
      }

      return (
        <div className="min-h-screen p-6 flex flex-col" style={{backgroundColor: '#121212'}}>
          <div className="flex-1 animate-slideUp">
            <div style={{marginBottom: '2rem'}}>
              <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem'}}>
                <div style={{display: 'flex', gap: '0.5rem'}}>
                  {[1, 2, 3].map((s) => (
                    <div
                      key={s}
                      style={{
                        height: '4px',
                        width: '64px',
                        borderRadius: '9999px',
                        backgroundColor: s === step ? '#D4A574' : '#2A2A2A'
                      }}
                    />
                  ))}
                </div>
                <span style={{color: '#8A8A8A', fontSize: '0.875rem'}}>3/3</span>
              </div>
            </div>

            <h1 style={{marginBottom: '0.5rem', color: '#FFFFFF', fontSize: '2rem', fontWeight: 500}}>Your Taste Profile</h1>
            <p style={{color: '#8A8A8A', marginBottom: '2rem'}}>
              Here's what we've learned about your preferences
            </p>

            <div style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1.5rem', marginBottom: '1.5rem'}}>
              <div style={{display: 'flex', justifyContent: 'center'}}>
                <SimpleRadarChart data={radarData} />
              </div>
            </div>

            <div style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1rem', marginBottom: '1.5rem'}}>
              <h3 style={{marginBottom: '1rem', color: '#FFFFFF', fontSize: '1.125rem'}}>Recommended Spirit</h3>
              <div style={{display: 'flex', gap: '1rem'}}>
                <ImageWithFallback
                  src="https://images.unsplash.com/photo-1569529465841-dfecdab7503b?w=400"
                  alt="Recommended Whiskey"
                  style={{width: '96px', height: '128px', objectFit: 'cover', borderRadius: '8px'}}
                />
                <div style={{flex: 1}}>
                  <h4 style={{marginBottom: '0.25rem', color: '#FFFFFF', fontSize: '1rem'}}>Macallan 18 Year</h4>
                  <p style={{color: '#8A8A8A', fontSize: '0.875rem', marginBottom: '0.5rem'}}>Single Malt Scotch</p>
                  <div style={{display: 'flex', flexWrap: 'wrap', gap: '0.25rem'}}>
                    {['Fruity', 'Sweet', 'Malty'].map(tag => (
                      <span
                        key={tag}
                        style={{
                          padding: '0.25rem 0.5rem',
                          backgroundColor: 'rgba(212, 165, 116, 0.2)',
                          color: '#D4A574',
                          fontSize: '0.75rem',
                          borderRadius: '9999px'
                        }}
                      >
                        {tag}
                      </span>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>

          <Button onClick={onComplete} className="w-full">
            Get Started
          </Button>
        </div>
      );
    };

    // HOME/CABINET SCREEN
    const MyCabinetScreen = () => {
      const [activeTab, setActiveTab] = useState('inventory');
      
      const bottles = [
        { id: 1, name: "Macallan 18", type: "Single Malt", image: "https://images.unsplash.com/photo-1569529465841-dfecdab7503b?w=400", percentage: 75 },
        { id: 2, name: "Glenfiddich 15", type: "Scotch Whisky", image: "https://images.unsplash.com/photo-1527281400-e0a28196a6c1?w=400", percentage: 40 },
        { id: 3, name: "Lagavulin 16", type: "Islay Scotch", image: "https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?w=400", percentage: 90 },
      ];

      return (
        <div className="min-h-screen pb-20" style={{backgroundColor: '#121212'}}>
          <div className="p-6">
            <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '2rem'}}>
              <h1 style={{color: '#FFFFFF', fontSize: '2rem'}}>My Cabinet</h1>
              <button style={{background: 'none', border: 'none', cursor: 'pointer'}}>
                <Icon name="bell" className="w-6 h-6" style={{color: '#D4A574'}} />
              </button>
            </div>

            <div style={{display: 'flex', gap: '0.5rem', marginBottom: '2rem', backgroundColor: '#1A1A1A', padding: '0.25rem', borderRadius: '12px'}}>
              <button
                onClick={() => setActiveTab('inventory')}
                style={{
                  flex: 1,
                  padding: '0.75rem',
                  borderRadius: '8px',
                  backgroundColor: activeTab === 'inventory' ? '#D4A574' : 'transparent',
                  color: activeTab === 'inventory' ? '#121212' : '#8A8A8A',
                  border: 'none',
                  cursor: 'pointer',
                  fontWeight: 500
                }}
              >
                Inventory
              </button>
              <button
                onClick={() => setActiveTab('recipes')}
                style={{
                  flex: 1,
                  padding: '0.75rem',
                  borderRadius: '8px',
                  backgroundColor: activeTab === 'recipes' ? '#D4A574' : 'transparent',
                  color: activeTab === 'recipes' ? '#121212' : '#8A8A8A',
                  border: 'none',
                  cursor: 'pointer',
                  fontWeight: 500
                }}
              >
                Cocktail Recipes
              </button>
            </div>

            {activeTab === 'inventory' && (
              <div style={{display: 'flex', flexDirection: 'column', gap: '1rem'}}>
                {bottles.map(bottle => (
                  <div key={bottle.id} style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1rem', display: 'flex', gap: '1rem'}}>
                    <ImageWithFallback
                      src={bottle.image}
                      alt={bottle.name}
                      style={{width: '80px', height: '120px', objectFit: 'cover', borderRadius: '8px'}}
                    />
                    <div style={{flex: 1}}>
                      <h3 style={{color: '#FFFFFF', marginBottom: '0.25rem'}}>{bottle.name}</h3>
                      <p style={{color: '#8A8A8A', fontSize: '0.875rem', marginBottom: '1rem'}}>{bottle.type}</p>
                      <div style={{marginBottom: '0.5rem'}}>
                        <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.25rem'}}>
                          <span style={{color: '#8A8A8A', fontSize: '0.875rem'}}>Remaining</span>
                          <span style={{color: '#D4A574', fontSize: '0.875rem'}}>{bottle.percentage}%</span>
                        </div>
                        <div style={{height: '6px', backgroundColor: '#2A2A2A', borderRadius: '3px', overflow: 'hidden'}}>
                          <div style={{height: '100%', width: `${bottle.percentage}%`, backgroundColor: '#D4A574'}} />
                        </div>
                      </div>
                    </div>
                  </div>
                ))}
              </div>
            )}

            {activeTab === 'recipes' && (
              <div style={{display: 'flex', flexDirection: 'column', gap: '1rem'}}>
                <div style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1rem'}}>
                  <h3 style={{color: '#FFFFFF', marginBottom: '1rem'}}>Old Fashioned</h3>
                  <div style={{display: 'flex', flexDirection: 'column', gap: '0.5rem'}}>
                    <div style={{display: 'flex', alignItems: 'center', gap: '0.5rem'}}>
                      <div style={{width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#D4A574'}} />
                      <span style={{color: '#FFFFFF', fontSize: '0.875rem'}}>Bourbon - 2oz</span>
                      <span style={{color: '#4ADE80', fontSize: '0.75rem', marginLeft: 'auto'}}>‚úì In Stock</span>
                    </div>
                    <div style={{display: 'flex', alignItems: 'center', gap: '0.5rem'}}>
                      <div style={{width: '8px', height: '8px', borderRadius: '50%', backgroundColor: '#D4A574'}} />
                      <span style={{color: '#FFFFFF', fontSize: '0.875rem'}}>Sugar Cube - 1</span>
                      <span style={{color: '#EF4444', fontSize: '0.75rem', marginLeft: 'auto'}}>Missing</span>
                    </div>
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    };

    // SEARCH SCREEN
    const SearchScreen = () => {
      const [searchQuery, setSearchQuery] = useState('');
      const [showFilters, setShowFilters] = useState(false);
      
      const spirits = [
        { id: 1, name: "Macallan 18", type: "Single Malt Scotch", price: 285000, priceChange: 5.2, image: "https://images.unsplash.com/photo-1569529465841-dfecdab7503b?w=400" },
        { id: 2, name: "Glenfiddich 15", type: "Scotch Whisky", price: 95000, priceChange: -2.1, image: "https://images.unsplash.com/photo-1527281400-e0a28196a6c1?w=400" },
      ];

      return (
        <div className="min-h-screen pb-20" style={{backgroundColor: '#121212'}}>
          <div className="p-6">
            <h1 style={{color: '#FFFFFF', fontSize: '2rem', marginBottom: '1.5rem'}}>Search</h1>
            
            <div style={{display: 'flex', gap: '0.75rem', marginBottom: '1.5rem'}}>
              <div style={{flex: 1, position: 'relative'}}>
                <input
                  type="text"
                  placeholder="Search spirits..."
                  value={searchQuery}
                  onChange={(e) => setSearchQuery(e.target.value)}
                  style={{paddingLeft: '2.5rem'}}
                />
                <Icon name="search" className="w-5 h-5" style={{position: 'absolute', left: '0.75rem', top: '50%', transform: 'translateY(-50%)', color: '#8A8A8A'}} />
              </div>
              <button
                onClick={() => setShowFilters(!showFilters)}
                style={{
                  padding: '0.75rem 1rem',
                  backgroundColor: showFilters ? '#D4A574' : '#1A1A1A',
                  border: '1px solid #2A2A2A',
                  borderRadius: '10px',
                  color: showFilters ? '#121212' : '#FFFFFF',
                  cursor: 'pointer'
                }}
              >
                <Icon name="filter" className="w-5 h-5" />
              </button>
            </div>

            <div style={{display: 'flex', flexDirection: 'column', gap: '1rem'}}>
              {spirits.map(spirit => (
                <div key={spirit.id} style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1rem', display: 'flex', gap: '1rem'}}>
                  <ImageWithFallback src={spirit.image} alt={spirit.name} style={{width: '80px', height: '120px', objectFit: 'cover', borderRadius: '8px'}} />
                  <div style={{flex: 1}}>
                    <h3 style={{color: '#FFFFFF', marginBottom: '0.25rem'}}>{spirit.name}</h3>
                    <p style={{color: '#8A8A8A', fontSize: '0.875rem', marginBottom: '0.75rem'}}>{spirit.type}</p>
                    <div style={{display: 'flex', alignItems: 'center', gap: '0.5rem'}}>
                      <span style={{color: '#FFFFFF', fontWeight: 500}}>‚Ç©{spirit.price.toLocaleString()}</span>
                      <span style={{color: spirit.priceChange >= 0 ? '#EF4444' : '#3B82F6', fontSize: '0.875rem'}}>
                        {spirit.priceChange >= 0 ? '‚Üë' : '‚Üì'} {Math.abs(spirit.priceChange)}%
                      </span>
                    </div>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      );
    };

    // MAP SCREEN
    const BarMapScreen = () => {
      const bars = [
        { id: 1, name: "Speakeasy Seoul", type: "Whiskey Bar", distance: "0.8km" },
        { id: 2, name: "The Wine Cellar", type: "Wine Bar", distance: "1.2km" },
      ];

      return (
        <div className="min-h-screen pb-20" style={{backgroundColor: '#121212'}}>
          <div className="p-6">
            <h1 style={{color: '#FFFFFF', fontSize: '2rem', marginBottom: '1.5rem'}}>Nearby Bars</h1>
            
            <div style={{width: '100%', height: '300px', background: 'linear-gradient(135deg, #1A1A1A 0%, #2A2A2A 100%)', borderRadius: '16px', marginBottom: '1.5rem', display: 'flex', alignItems: 'center', justifyContent: 'center', color: '#8A8A8A'}}>
              <div style={{textAlign: 'center'}}>
                <Icon name="mapPin" className="w-12 h-12" style={{margin: '0 auto 0.5rem'}} />
                <p>Map View</p>
              </div>
            </div>

            <div style={{display: 'flex', flexDirection: 'column', gap: '1rem'}}>
              {bars.map(bar => (
                <div key={bar.id} style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1rem'}}>
                  <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem'}}>
                    <div>
                      <h3 style={{color: '#FFFFFF', marginBottom: '0.25rem'}}>{bar.name}</h3>
                      <p style={{color: '#8A8A8A', fontSize: '0.875rem'}}>{bar.type}</p>
                    </div>
                    <span style={{color: '#D4A574', fontSize: '0.875rem'}}>{bar.distance}</span>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      );
    };

    // COMMUNITY SCREEN
    const CommunityScreen = () => {
      const posts = [
        { id: 1, user: "WhiskeyLover", avatar: "WL", time: "2h ago", content: "Just tried the new Yamazaki 18. Absolutely incredible!", likes: 24, comments: 5 },
        { id: 2, user: "BarMaster", avatar: "BM", time: "5h ago", content: "Hosting a whiskey tasting event this Friday. Who's in?", likes: 18, comments: 12 },
      ];

      return (
        <div className="min-h-screen pb-20" style={{backgroundColor: '#121212'}}>
          <div className="p-6">
            <h1 style={{color: '#FFFFFF', fontSize: '2rem', marginBottom: '1.5rem'}}>Community</h1>
            
            <div style={{display: 'flex', flexDirection: 'column', gap: '1rem'}}>
              {posts.map(post => (
                <div key={post.id} style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1rem'}}>
                  <div style={{display: 'flex', gap: '0.75rem', marginBottom: '0.75rem'}}>
                    <div style={{width: '40px', height: '40px', borderRadius: '50%', backgroundColor: '#D4A574', color: '#121212', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 500}}>
                      {post.avatar}
                    </div>
                    <div style={{flex: 1}}>
                      <h4 style={{color: '#FFFFFF', fontSize: '0.875rem'}}>{post.user}</h4>
                      <span style={{color: '#8A8A8A', fontSize: '0.75rem'}}>{post.time}</span>
                    </div>
                  </div>
                  <p style={{color: '#FFFFFF', marginBottom: '0.75rem'}}>{post.content}</p>
                  <div style={{display: 'flex', gap: '1.5rem'}}>
                    <button style={{background: 'none', border: 'none', color: '#8A8A8A', cursor: 'pointer', display: 'flex', alignItems: 'center', gap: '0.5rem'}}>
                      <Icon name="heart" className="w-5 h-5" /> {post.likes}
                    </button>
                    <button style={{background: 'none', border: 'none', color: '#8A8A8A', cursor: 'pointer'}}>
                      üí¨ {post.comments}
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        </div>
      );
    };

    // MY PAGE SCREEN
    const MyPageScreen = ({ onNavigateToBottles, onNavigateToBlending }) => {
      return (
        <div className="min-h-screen pb-20" style={{backgroundColor: '#121212'}}>
          <div className="p-6">
            <h1 style={{color: '#FFFFFF', fontSize: '2rem', marginBottom: '2rem'}}>My Page</h1>
            
            <div style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1.5rem', marginBottom: '1.5rem', textAlign: 'center'}}>
              <div style={{width: '80px', height: '80px', borderRadius: '50%', backgroundColor: '#D4A574', margin: '0 auto 1rem', display: 'flex', alignItems: 'center', justifyContent: 'center', fontSize: '2rem', color: '#121212', fontWeight: 500}}>
                JD
              </div>
              <h2 style={{color: '#FFFFFF', marginBottom: '0.25rem'}}>John Doe</h2>
              <p style={{color: '#8A8A8A', fontSize: '0.875rem'}}>Whiskey Enthusiast</p>
            </div>

            <div style={{display: 'flex', flexDirection: 'column', gap: '0.75rem'}}>
              <button
                onClick={onNavigateToBottles}
                style={{backgroundColor: '#1A1A1A', border: 'none', borderRadius: '12px', padding: '1rem', display: 'flex', alignItems: 'center', justifyContent: 'space-between', cursor: 'pointer', color: '#FFFFFF'}}
              >
                <div style={{display: 'flex', alignItems: 'center', gap: '0.75rem'}}>
                  <Icon name="bottle" className="w-5 h-5" style={{color: '#D4A574'}} />
                  <span>My Bottles</span>
                </div>
                <span style={{color: '#8A8A8A'}}>‚Üí</span>
              </button>

              <button
                onClick={onNavigateToBlending}
                style={{backgroundColor: '#1A1A1A', border: 'none', borderRadius: '12px', padding: '1rem', display: 'flex', alignItems: 'center', justifyContent: 'space-between', cursor: 'pointer', color: '#FFFFFF'}}
              >
                <div style={{display: 'flex', alignItems: 'center', gap: '0.75rem'}}>
                  <Icon name="sparkles" className="w-5 h-5" style={{color: '#D4A574'}} />
                  <span>AI Blending Lab</span>
                </div>
                <span style={{color: '#8A8A8A'}}>‚Üí</span>
              </button>

              <button
                style={{backgroundColor: '#1A1A1A', border: 'none', borderRadius: '12px', padding: '1rem', display: 'flex', alignItems: 'center', justifyContent: 'space-between', cursor: 'pointer', color: '#FFFFFF'}}
              >
                <div style={{display: 'flex', alignItems: 'center', gap: '0.75rem'}}>
                  <Icon name="heart" className="w-5 h-5" style={{color: '#D4A574'}} />
                  <span>Favorites</span>
                </div>
                <span style={{color: '#8A8A8A'}}>‚Üí</span>
              </button>

              <button
                style={{backgroundColor: '#1A1A1A', border: 'none', borderRadius: '12px', padding: '1rem', display: 'flex', alignItems: 'center', justifyContent: 'space-between', cursor: 'pointer', color: '#FFFFFF'}}
              >
                <div style={{display: 'flex', alignItems: 'center', gap: '0.75rem'}}>
                  <Icon name="settings" className="w-5 h-5" style={{color: '#D4A574'}} />
                  <span>Settings</span>
                </div>
                <span style={{color: '#8A8A8A'}}>‚Üí</span>
              </button>
            </div>
          </div>
        </div>
      );
    };

    // AI BLENDING SCREEN
    const AIBlendingScreen = ({ onBack }) => {
      const [ingredients, setIngredients] = useState([
        { id: "1", name: "Malted Barley", percentage: 70 },
        { id: "2", name: "Corn", percentage: 30 },
      ]);
      const [agingProcesses, setAgingProcesses] = useState([
        { id: "1", years: 12, caskType: "bourbon" },
      ]);
      const [showResult, setShowResult] = useState(false);
      const [isSimulating, setIsSimulating] = useState(false);

      const grainTypes = ["Malted Barley", "Corn", "Rye", "Wheat", "Oats", "Smoked Malt"];
      const caskTypes = [
        { value: "bourbon", label: "Bourbon Cask" },
        { value: "sherry", label: "Sherry Cask" },
        { value: "port", label: "Port Cask" },
        { value: "virgin", label: "Virgin Oak" },
      ];

      const totalPercentage = ingredients.reduce((sum, ing) => sum + ing.percentage, 0);
      const totalAgingYears = agingProcesses.reduce((sum, p) => sum + p.years, 0);

      const handleSimulate = () => {
        setIsSimulating(true);
        setTimeout(() => {
          setIsSimulating(false);
          setShowResult(true);
        }, 2000);
      };

      const getColorDepth = () => {
        const age = totalAgingYears / 30;
        const sherry = agingProcesses.some((p) => p.caskType === "sherry") ? 0.2 : 0;
        const depth = Math.min(age + sherry, 1);
        const hue = 30 + depth * 10;
        const saturation = 50 + depth * 30;
        const lightness = 50 - depth * 20;
        return `hsl(${hue}, ${saturation}%, ${lightness}%)`;
      };

      return (
        <div className="min-h-screen pb-20" style={{backgroundColor: '#121212'}}>
          <div className="p-6">
            <div style={{display: 'flex', alignItems: 'center', gap: '0.75rem', marginBottom: '1.5rem'}}>
              <button onClick={onBack} style={{background: 'none', border: 'none', color: '#D4A574', cursor: 'pointer', fontSize: '1.5rem'}}>
                ‚Üê
              </button>
              <div style={{width: '40px', height: '40px', backgroundColor: '#D4A574', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center'}}>
                <Icon name="coffee" className="w-5 h-5" style={{color: '#121212'}} />
              </div>
              <h1 style={{color: '#FFFFFF', fontSize: '2rem'}}>AI Blending Lab</h1>
            </div>

            <p style={{color: '#8A8A8A', marginBottom: '2rem'}}>
              Create your perfect blend and predict the flavor profile
            </p>

            {/* Grain Composition */}
            <div style={{marginBottom: '2rem'}}>
              <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '1rem'}}>
                <h3 style={{color: '#FFFFFF', fontSize: '1.125rem'}}>Grain Composition</h3>
                <div style={{fontSize: '0.875rem', color: totalPercentage === 100 ? '#D4A574' : '#EF4444'}}>
                  {totalPercentage}%
                </div>
              </div>

              <div style={{display: 'flex', flexDirection: 'column', gap: '1rem', marginBottom: '1rem'}}>
                {ingredients.map((ing) => (
                  <div key={ing.id} className="animate-slideUp" style={{backgroundColor: '#1A1A1A', borderRadius: '12px', padding: '1rem'}}>
                    <div style={{display: 'flex', gap: '0.75rem', marginBottom: '0.75rem'}}>
                      <select
                        value={ing.name}
                        onChange={(e) => setIngredients(ingredients.map(i => i.id === ing.id ? {...i, name: e.target.value} : i))}
                        style={{flex: 1}}
                      >
                        {grainTypes.map(g => <option key={g} value={g}>{g}</option>)}
                      </select>
                      {ingredients.length > 1 && (
                        <button
                          onClick={() => setIngredients(ingredients.filter(i => i.id !== ing.id))}
                          style={{padding: '0.5rem', background: 'none', border: 'none', color: '#EF4444', cursor: 'pointer', fontSize: '1.5rem'}}
                        >
                          √ó
                        </button>
                      )}
                    </div>
                    <div style={{display: 'flex', alignItems: 'center', gap: '0.75rem'}}>
                      <Slider
                        value={[ing.percentage]}
                        onValueChange={(v) => setIngredients(ingredients.map(i => i.id === ing.id ? {...i, percentage: v[0]} : i))}
                        max={100}
                        step={5}
                      />
                      <span style={{color: '#D4A574', width: '48px', textAlign: 'right'}}>{ing.percentage}%</span>
                    </div>
                  </div>
                ))}
              </div>

              <Button
                variant="outline"
                onClick={() => setIngredients([...ingredients, {id: String(ingredients.length + 1), name: "Malted Barley", percentage: 0}])}
                style={{width: '100%', borderStyle: 'dashed', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem'}}
              >
                <Icon name="plus" className="w-4 h-4" /> Add Ingredient
              </Button>
            </div>

            {/* Aging Process */}
            <div style={{marginBottom: '2rem'}}>
              <h3 style={{color: '#FFFFFF', fontSize: '1.125rem', marginBottom: '1rem'}}>Aging Process</h3>
              
              <div style={{display: 'flex', flexDirection: 'column', gap: '1rem', marginBottom: '1rem'}}>
                {agingProcesses.map((proc, idx) => (
                  <div key={proc.id} className="animate-slideUp" style={{backgroundColor: '#1A1A1A', borderRadius: '12px', padding: '1rem'}}>
                    <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.75rem'}}>
                      <span style={{fontSize: '0.875rem', color: '#8A8A8A'}}>Stage {idx + 1}</span>
                      {agingProcesses.length > 1 && (
                        <button
                          onClick={() => setAgingProcesses(agingProcesses.filter(p => p.id !== proc.id))}
                          style={{padding: '0.25rem', background: 'none', border: 'none', color: '#EF4444', cursor: 'pointer', fontSize: '1.25rem'}}
                        >
                          √ó
                        </button>
                      )}
                    </div>

                    <div style={{marginBottom: '0.75rem'}}>
                      <label style={{display: 'block', fontSize: '0.75rem', color: '#8A8A8A', marginBottom: '0.5rem'}}>Cask Type</label>
                      <select
                        value={proc.caskType}
                        onChange={(e) => setAgingProcesses(agingProcesses.map(p => p.id === proc.id ? {...p, caskType: e.target.value} : p))}
                      >
                        {caskTypes.map(c => <option key={c.value} value={c.value}>{c.label}</option>)}
                      </select>
                    </div>

                    <div>
                      <div style={{display: 'flex', justifyContent: 'space-between', marginBottom: '0.5rem'}}>
                        <label style={{fontSize: '0.75rem', color: '#8A8A8A'}}>Years</label>
                        <span style={{color: '#D4A574', fontSize: '0.875rem'}}>{proc.years} Years</span>
                      </div>
                      <Slider
                        value={[proc.years]}
                        onValueChange={(v) => setAgingProcesses(agingProcesses.map(p => p.id === proc.id ? {...p, years: v[0]} : p))}
                        min={1}
                        max={30}
                        step={1}
                      />
                    </div>
                  </div>
                ))}
              </div>

              <Button
                variant="outline"
                onClick={() => setAgingProcesses([...agingProcesses, {id: String(agingProcesses.length + 1), years: 3, caskType: "bourbon"}])}
                style={{width: '100%', borderStyle: 'dashed', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem'}}
              >
                <Icon name="plus" className="w-4 h-4" /> Add Process
              </Button>
            </div>

            {/* Total Aging */}
            <div style={{backgroundColor: '#1A1A1A', borderRadius: '12px', padding: '1rem', marginBottom: '2rem'}}>
              <div style={{display: 'flex', justifyContent: 'space-between'}}>
                <span style={{color: '#8A8A8A'}}>Total Aging Time</span>
                <span style={{color: '#D4A574', fontWeight: 500}}>{totalAgingYears} Years</span>
              </div>
            </div>

            {/* Simulate Button */}
            <Button
              onClick={handleSimulate}
              disabled={totalPercentage !== 100 || isSimulating}
              style={{width: '100%', marginBottom: '2rem', display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '0.5rem'}}
            >
              {isSimulating && <div className="animate-spin"><Icon name="sparkles" className="w-5 h-5" /></div>}
              {!isSimulating && <Icon name="sparkles" className="w-5 h-5" />}
              {isSimulating ? "Simulating..." : "Run Simulation"}
            </Button>

            {/* Result */}
            {showResult && (
              <div className="animate-slideUp" style={{backgroundColor: '#1A1A1A', borderRadius: '16px', padding: '1.5rem'}}>
                <h3 style={{marginBottom: '1.5rem', color: '#FFFFFF', fontSize: '1.125rem'}}>Simulation Result</h3>

                {/* Bottle Visualization */}
                <div style={{display: 'flex', justifyContent: 'center', marginBottom: '1.5rem'}}>
                  <div>
                    <div style={{width: '128px', height: '192px', background: 'linear-gradient(to bottom, transparent, transparent, #2A2A2A)', borderRadius: '8px', border: '2px solid #2A2A2A', overflow: 'hidden', position: 'relative'}}>
                      <div className="animate-fadeIn" style={{position: 'absolute', bottom: 0, left: 0, right: 0, height: '80%', backgroundColor: getColorDepth()}} />
                    </div>
                    <div style={{textAlign: 'center', marginTop: '0.75rem'}}>
                      <span style={{fontSize: '0.75rem', color: '#8A8A8A'}}>Color Depth</span>
                    </div>
                  </div>
                </div>

                {/* Predicted Notes */}
                <div style={{marginBottom: '1.5rem'}}>
                  <h4 style={{marginBottom: '0.75rem', color: '#FFFFFF'}}>Predicted Tasting Notes</h4>
                  <div style={{display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gap: '0.5rem'}}>
                    {['8.5', '8.8', '8.3'].map((score, i) => (
                      <div key={i} style={{backgroundColor: '#121212', borderRadius: '8px', padding: '0.75rem', textAlign: 'center'}}>
                        <div style={{fontSize: '1.5rem', color: '#D4A574', marginBottom: '0.25rem'}}>{score}</div>
                        <div style={{fontSize: '0.75rem', color: '#8A8A8A'}}>{['Nose', 'Palate', 'Finish'][i]}</div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* Flavor Tags */}
                <div>
                  <h4 style={{marginBottom: '0.75rem', color: '#FFFFFF'}}>Dominant Flavors</h4>
                  <div style={{display: 'flex', flexWrap: 'wrap', gap: '0.5rem'}}>
                    {['Caramel', 'Vanilla', 'Oak', 'Spice'].map(f => (
                      <span key={f} style={{padding: '0.5rem 1rem', backgroundColor: 'rgba(212, 165, 116, 0.2)', color: '#D4A574', fontSize: '0.875rem', borderRadius: '9999px'}}>
                        {f}
                      </span>
                    ))}
                    {agingProcesses.some(p => p.caskType === "sherry") && (
                      <span style={{padding: '0.5rem 1rem', backgroundColor: 'rgba(212, 165, 116, 0.2)', color: '#D4A574', fontSize: '0.875rem', borderRadius: '9999px'}}>
                        Dried Fruit
                      </span>
                    )}
                  </div>
                </div>
              </div>
            )}
          </div>
        </div>
      );
    };

    // MAIN APP
    const App = () => {
      const [currentScreen, setCurrentScreen] = useState('onboarding');
      const [hasCompletedOnboarding, setHasCompletedOnboarding] = useState(false);

      const navItems = [
        { id: "cabinet", icon: "home", label: "Home" },
        { id: "search", icon: "search", label: "Search" },
        { id: "map", icon: "map", label: "Map" },
        { id: "community", icon: "users", label: "Community" },
        { id: "mypage", icon: "user", label: "My Page" },
      ];

      const renderScreen = () => {
        if (!hasCompletedOnboarding && currentScreen === 'onboarding') {
          return <OnboardingScreen onComplete={() => { setHasCompletedOnboarding(true); setCurrentScreen('cabinet'); }} />;
        }

        switch (currentScreen) {
          case 'cabinet': return <MyCabinetScreen />;
          case 'search': return <SearchScreen />;
          case 'map': return <BarMapScreen />;
          case 'community': return <CommunityScreen />;
          case 'mypage': return <MyPageScreen onNavigateToBottles={() => setCurrentScreen('cabinet')} onNavigateToBlending={() => setCurrentScreen('blending')} />;
          case 'blending': return <AIBlendingScreen onBack={() => setCurrentScreen('mypage')} />;
          default: return <MyCabinetScreen />;
        }
      };

      return (
        <div style={{position: 'relative', minHeight: '100vh', backgroundColor: '#121212'}}>
          {renderScreen()}

          {hasCompletedOnboarding && currentScreen !== 'blending' && (
            <nav className="animate-fadeIn" style={{position: 'fixed', bottom: 0, left: 0, right: 0, backgroundColor: '#1A1A1A', borderTop: '1px solid #2A2A2A', zIndex: 50}}>
              <div style={{display: 'flex', alignItems: 'center', justifyContent: 'space-around', padding: '0.75rem 1rem', maxWidth: '448px', margin: '0 auto'}}>
                {navItems.map((item) => (
                  <button
                    key={item.id}
                    onClick={() => setCurrentScreen(item.id)}
                    style={{display: 'flex', flexDirection: 'column', alignItems: 'center', gap: '0.25rem', minWidth: '60px', background: 'none', border: 'none', cursor: 'pointer', color: currentScreen === item.id ? '#D4A574' : '#8A8A8A', transition: 'color 0.2s'}}
                  >
                    <Icon name={item.icon} className="w-6 h-6" />
                    <span style={{fontSize: '0.75rem'}}>{item.label}</span>
                  </button>
                ))}
              </div>
            </nav>
          )}
        </div>
      );
    };

    // Render
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
